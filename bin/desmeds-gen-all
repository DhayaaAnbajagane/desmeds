#!/usr/bin/env python
"""
    %prog [options] medsconf coadd_run band

Generate the inputs and batch scripts for the specified coadd run and band

Note script making is not in place as of now
"""
from __future__ import print_function
import sys
import os
import desmeds


from argparse import ArgumentParser
parser=ArgumentParser()

parser.add_argument('medsconf',help='DES MEDS configuration identifier')
parser.add_argument('coadd_run',help='DES coadd run identifier (pre y2)')
parser.add_argument('band',help='bandpass')
parser.add_argument('--do-meds',action='store_true',
                    help='write the MEDS file as well as scripts')
parser.add_argument('-c','--check',action='store_true',
                    help="check that files exist")



def main():
    args=parser.parse_args()

    maker = desmeds.DESMEDSMaker(args.medsconf,
                                 args.coadd_run,
                                 args.band,
                                 do_inputs=True,
                                 do_meds=args.do_meds,
                                 check=args.check)
    maker.go()

    # make scripts here

main()

